{
	"properties": {
		"service": {
			"type": "object",
			"description": "DC/OS service configuration properties",
			"properties": {
				"name": {
					"description": "Name of this service instance",
					"type": "string",
					"default": "sqlserver"
				},
				"cpus": {
					"description": "CPU shares to allocate to each service instance.",
					"type": "number",
					"default": 1,
					"minimum": 1
				},
				"mem": {
					"description": "Memory to allocate to each service instance.",
					"type": "number",
					"default": 4096.0,
					"minimum": 4096.0
				},
				"instances": {
					"description": "Number of instances of your service.",
					"type": "number",
					"default": 1.0
				}
			},
			"required": [
				"name",
				"cpus",
				"mem"
			]
		},
		"placement": {
			"type": "object",
			"description": "Constraints control where apps run to allow optimizing for either fault tolerance (by spreading a task out on multiple nodes) or locality (by running all of an applications tasks on the same node).",
			"properties": {
				"constraints": {
					"type": "string",
					"description": "Constraints have three parts: a field name, an operator, and an optional parameter. The field can be the hostname of the agent node or any attribute of the agent node. Example: [[\"rack_id\", \"LIKE\", \"rack-foo-.*\"], [\"rack_id\", \"MAX_PER\", \"2\"]]",
					"default": "[]",
					"media": {
						"type": "application/x-zone-constraints+json"
					}
				},
				"region": {
					"type": "string",
					"description": "All application nodes will run in this region. When no region is specified the nodes are constrained to the local region. ",
					"default": "",
					"media": {
						"type": "application/x-region+string"
					}
				}
			}
		},
		"volumes": {
			"type": "object",
			"description": "SQL Server storage configuration properties",
			"properties": {
				"volume_data": {
					"description": "Volume configurations (root, mount, external). Please read Pre-Install Notes for setup for volumes.",
					"type": "object",
					"properties": {
						"container_path": {
							"description": "The path of a volume on the container.",
							"type": "string",
							"default": "/var/opt/mssql"
						},
						"type": {
							"description": "The type of a volume (root, mount, external) on the host to be used for persisting your service configuration and data.",
							"type": "string",
							"default": "root"
						},
						"size": {
							"type": "integer",
							"description": "The amount of disk, in MB, allocated to the volume, not applicable for external volume type.",
							"default": 0
						},
						"profile": {
							"type": "string",
							"description": "Disk profile to be used for volume."
						},
						"external_volume_name": {
							"type": "string",
							"description": "External volume name, not applicable for ROOT and MOUNT volume types.",
							"default": ""
						}
					}
				},
				"volume_log": {
					"description": "Volume configurations (root, mount, external). Please read Pre-Install Notes for setup for volumes.",
					"type": "object",
					"properties": {
						"container_path": {
							"description": "The path of a volume on the container.",
							"type": "string",
							"default": "/var/opt/mssql"
						},
						"type": {
							"description": "The type of a volume (root, mount, external) on the host to be used for persisting your service configuration and data.",
							"type": "string",
							"default": "root"
						},
						"size": {
							"type": "integer",
							"description": "The amount of disk, in MB, allocated to the volume, not applicable for external volume type.",
							"default": 0
						},
						"profile": {
							"type": "string",
							"description": "Disk profile to be used for volume."
						},
						"external_volume_name": {
							"type": "string",
							"description": "External volume name, not applicable for ROOT and MOUNT volume types.",
							"default": ""
						}
					}
				},
				"volume_tempdb": {
					"description": "Volume configurations (root, mount, external). Please read Pre-Install Notes for setup for volumes.",
					"type": "object",
					"properties": {
						"container_path": {
							"description": "The path of a volume on the container.",
							"type": "string",
							"default": "/var/opt/mssql"
						},
						"type": {
							"description": "The type of a volume (root, mount, external) on the host to be used for persisting your service configuration and data.",
							"type": "string",
							"default": "root"
						},
						"size": {
							"type": "integer",
							"description": "The amount of disk, in MB, allocated to the volume, not applicable for external volume type.",
							"default": 0
						},
						"profile": {
							"type": "string",
							"description": "Disk profile to be used for volume."
						},
						"external_volume_name": {
							"type": "string",
							"description": "External volume name, not applicable for ROOT and MOUNT volume types.",
							"default": ""
						}
					}
				},
				"volume_backup": {
					"description": "Volume configurations (root, mount, external). Please read Pre-Install Notes for setup for volumes.",
					"type": "object",
					"properties": {
						"container_path": {
							"description": "The path of a volume on the container.",
							"type": "string",
							"default": "/var/opt/mssql"
						},
						"type": {
							"description": "The type of a volume (root, mount, external) on the host to be used for persisting your service configuration and data.",
							"type": "string",
							"default": "root"
						},
						"size": {
							"type": "integer",
							"description": "The amount of disk, in MB, allocated to the volume, not applicable for external volume type.",
							"default": 0
						},
						"profile": {
							"type": "string",
							"description": "Disk profile to be used for volume."
						},
						"external_volume_name": {
							"type": "string",
							"description": "External volume name, not applicable for ROOT and MOUNT volume types.",
							"default": ""
						}
					}
				}
			}
		},
		"networking": {
			"type": "object",
			"description": "Configure the networking for your service.",
			"properties": {
				"service_endpoints": {
					"type": "object",
					"description": "DC/OS can automatically generate a Service Address to connect to each of your load balanced endpoints.",
					"properties": {
						"container_port": {
							"description": "Container port number",
							"type": "number",
							"default": 1433
						},
						"host_port": {
							"description": "Host port number",
							"type": "number",
							"default": 0
						},
						"protocol": {
							"type": "string",
							"description": "Protocol can be UDP, TCP or both. i.e. : \"udp\", \"tcp\", \"udp, tcp\". Most services will use TCP",
							"default": "tcp"
						},
						"load_balance_port": {
							"type": "number",
							"description": "This port will be used to load balance this service address internally"
						}
					}
				},
				"marathon_lb_proxy": {
					"type": "object",
					"properties": {
						"enabled": {
							"type": "boolean",
							"default": false
						},
						"vhost": {
							"type": "string"
						},
						"path": {
							"type": "string",
							"default": "/sql-server"
						}
					}
				}
			}
		},
		"environment": {
			"type": "object",
			"description": "List of environment variables.",
			"properties": {
				"SA_PASSWORD_SECRET": {
					"description": "Give the name of the corresponding secret in the secret store. A_PASSWORD is the database system administrator (userid = 'sa') password used to connect to SQL Server once the container is running. Important note: This password needs to include at least 8 characters of at least three of these four categories: uppercase letters, lowercase letters, numbers and non-alphanumeric symbols.",
					"type": "string",
					"default": "sqlserver-sa-password"
				},
				"MSSQL_PID ": {
					"description": "MSSQL_PID is the Product ID (PID) or Edition that the container will run with.",
					"type": "string",
					"enum": [
						"Developer",
						"Express",
						"Standard",
						"Enterprise",
						"EnterpriseCore"
					],
					"default": "Developer"
				},
				"MSSQL_LCID": {
					"description": "Sets the language ID to use for SQL Server.Default value is English ; for example 1036 is French. To se all options, visit the https://docs.microsoft.com/en-us/sql/relational-databases/system-catalog-views/sys-fulltext-languages-transact-sql?view=sql-server-2017",
					"type": "string",
					"default": "1033"
				},
				"MSSQL_COLLATION": {
					"description": "Sets the default collation for SQL Server. This overrides the default mapping of language id (LCID) to collation. To se all options, visit the https://docs.microsoft.com/en-us/sql/relational-databases/system-catalog-views/sys-fulltext-languages-transact-sql?view=sql-server-2017",
					"type": "string",
					"default": "SQL_Latin1_General_CP1_CI_AS"
				},
				"MSSQL_AGENT_ENABLED": {
					"description": "Enable SQL Server Agent. For example, 'true' is enabled and 'false' is disabled. By default, agent is disabled. To se all options, visit the https://docs.microsoft.com/en-us/sql/relational-databases/system-catalog-views/sys-fulltext-languages-transact-sql?view=sql-server-2017",
					"type": "string",
					"default": "false"
				},
				"MSSQL_DUMP_DIR": {
					"description": "Change the directory where SQL Server will deposit the memory dumps and other troubleshooting files by default.",
					"type": "string",
					"default": "/var/opt/mssql/dump"
				}
			}
		},
		"fetch": {
			"type": "object",
			"description": "If your service requires additional files and/or archives of files, enter their URIs to download and, if necessary, extract these resources.",
			"properties": {
				"artifact_URI": {
					"type": "object",
					"properties": {
						"uri": {
							"type": "string",
							"default": "file:///opt/mesosphere/etc/mesos-scheduler-modules/docker.tar.gz"
						},
						"extract": {
							"type": "boolean",
							"default": true
						},
						"executable": {
							"type": "boolean",
							"default": false
						},
						"cache": {
							"type": "boolean",
							"default": false
						}
					}
				}
			}
		}
	}
}